<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VisiAura - Image AI Generator</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>

<link rel="stylesheet" href="style.css">
</head>
<body class="text-gray-900 bg-[#FAFAFA]">
    
<div id="loader" class="fixed inset-0 z-[1000] bg-white flex items-center justify-center">
    <div class="loader-circle"></div>
</div>

<section id="auth-section" class="fixed inset-0 z-[500] bg-white flex items-center justify-center p-6 hidden overflow-hidden">
    <div id="floating-bg" class="absolute inset-0 pointer-events-none opacity-20"></div>
    <div class="w-full max-w-sm text-center relative z-10 bg-white/80 backdrop-blur-sm p-8 rounded-[40px] shadow-2xl border border-white">
        <div class="brand-logo mx-auto mb-6 shadow-xl">V</div>
        <h1 class="text-3xl font-extrabold mb-2 tracking-tight">VisiAura</h1>
        <p class="text-gray-400 mb-8 font-medium">Visualisasikan Aura Duniamu.</p>
        
        <button onclick="loginGoogle()" class="google-btn w-full bg-white border border-gray-100 py-4 rounded-2xl flex items-center justify-center gap-3 font-bold hover:bg-gray-50 transition-all mb-4 shadow-sm active:scale-95">
            <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/action/google.svg" class="w-5 h-5 rounded-full" alt="Google">
            Masuk dengan Google
        </button>
        
        <div class="relative py-4">
            <div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-100"></div></div>
            <span class="relative bg-white px-4 text-[10px] font-bold text-gray-400 uppercase tracking-widest">Atau Manual</span>
        </div>
        
        <div class="space-y-3">
            <input id="email-log" type="email" placeholder="Email Sobat" class="w-full bg-gray-50 p-4 rounded-xl outline-none focus:ring-2 focus:ring-red-100 transition-all text-sm">
            <input id="pass-log" type="password" placeholder="Sandi" class="w-full bg-gray-50 p-4 rounded-xl outline-none focus:ring-2 focus:ring-red-100 transition-all text-sm">
            <button onclick="loginEmail()" class="w-full bg-[#E60023] text-white py-4 rounded-xl font-black shadow-lg active:scale-95 transition-all uppercase text-xs tracking-widest">Masuk</button>
        </div>
    </div>
</section>

<div id="app-content" class="hidden">
    
    <header class="fixed top-0 left-0 right-0 bg-white/80 backdrop-blur-md z-50 px-6 py-4 flex items-center justify-between border-b border-gray-50">
        <div class="flex items-center gap-2 cursor-pointer" onclick="showSection('home')">
            <div class="w-8 h-8 bg-[#E60023] rounded-lg flex items-center justify-center text-white font-black italic text-sm">V</div>
            <span class="font-bold tracking-tighter text-lg hidden sm:block">VisiAura</span>
        </div>
        
        <div class="search-bar-mini flex flex-1 max-w-md mx-4 sm:mx-8">
            <input type="text" id="searchInput" oninput="searchAura(event)" placeholder="Cari aura..." class="w-full bg-gray-100 border-none rounded-full px-6 py-2 text-sm outline-none focus:ring-2 focus:ring-red-100">
        </div>
        
        <div id="user-pill" class="flex items-center gap-3 bg-gray-50 p-1.5 pr-4 rounded-full cursor-pointer hover:bg-gray-100 transition-all">
            <div id="avatar-container" class="w-8 h-8 rounded-full overflow-hidden bg-gray-200 border border-white"></div>
            <span id="nav-username" class="text-[10px] font-bold text-gray-600 truncate max-w-[80px]">Sobat Aura</span>
        </div>
    </header>

    <div class="fixed top-[72px] left-0 right-0 bg-white/80 backdrop-blur-md z-40 py-3 border-b border-gray-50 overflow-x-auto no-scrollbar scroll-smooth">
        <div class="flex items-center gap-3 px-6 whitespace-nowrap">
            <button class="cat-pill active">Semua</button>
            <button class="cat-pill">AI Art</button>
            <button class="cat-pill">Fotografi</button>
            <button class="cat-pill">Interior</button>
            <button class="cat-pill">Cyberpunk</button>
            <button class="cat-pill">Anime</button>
        </div>
    </div>

    <main class="pt-36 pb-24 px-4 md:px-8 max-w-[1600px] mx-auto">
        <div id="tab-home" class="page active">
            <div class="masonry" id="feed-container"></div>
        </div>

        <div id="tab-ai" class="page hidden">
            <div class="ai-box shadow-2xl">
                <div class="ai-header">
                    <i data-lucide="sparkles"></i>
                    <h2 class="text-xl font-bold italic text-white">VisiAura Real AI Art</h2>
                </div>
                <p class="ai-subtitle">Ketuk imajinasimu, AI akan melukisnya secara instan.</p>
                
                <div class="space-y-4">
                    <textarea id="aiPrompt" placeholder="Contoh: Kucing astronot di planet mars, gaya lukisan van gogh..."></textarea>
                    
                    <div id="ai-result-container" class="hidden mb-4 overflow-hidden rounded-2xl border-4 border-[#E60023]/20 bg-black aspect-video relative">
                        <img id="aiResultImg" src="" alt="Hasil AI" class="w-full h-full object-cover">
                        <div class="absolute bottom-4 right-4 flex gap-2">
                            <button onclick="saveAiResult()" class="bg-white/20 backdrop-blur-md text-white p-2 rounded-full hover:bg-white/40"><i data-lucide="download" class="w-4 h-4"></i></button>
                        </div>
                    </div>

                    <button id="btnGenerate" onclick="startRealAiProcess()" class="btn-gen w-full flex items-center justify-center gap-2">
                        <span>BUAT GAMBAR</span>
                        <i data-lucide="wand-2" class="w-4 h-4"></i>
                    </button>
                </div>
                
                <div id="loadingOverlay" class="loading-overlay">
                    <div class="spinner-neon"></div>
                    <p id="loadingText" class="text-sm font-bold text-[#E60023] mt-4">Menenun Piksel Aura...</p>
                </div>
            </div>
        </div>

        <div id="tab-chat" class="page hidden max-w-2xl mx-auto">
            <div class="chat-window shadow-xl">
                <div class="chat-header">Diskusi Global</div>
                <div id="chat-box" class="chat-body no-scrollbar"></div>
                <div class="chat-footer">
                    <input id="chat-input" type="text" placeholder="Ketik pesan...">
                    <button onclick="sendMsg()"><i data-lucide="send" class="w-4 h-4"></i></button>
                </div>
            </div>
        </div>
    </main>

    <div id="toast" class="toast-hidden">
        <div class="flex items-center gap-3">
            <div class="w-8 h-8 bg-[#E60023] rounded-full flex items-center justify-center text-white text-[10px] font-bold">V</div>
            <p id="toastMsg" class="text-xs font-bold text-gray-700"></p>
        </div>
    </div>

    <nav class="mobile-nav">
        <button onclick="showSection('home')" id="nav-home" class="active"><i data-lucide="home"></i></button>
        
        <label for="gallery-upload" class="nav-plus cursor-pointer">
            <i data-lucide="plus"></i>
            <input type="file" id="gallery-upload" class="hidden" accept="image/*" onchange="uploadFromGallery(event)">
        </label>

        <button onclick="showSection('chat')" id="nav-chat"><i data-lucide="message-circle"></i></button>
        <button onclick="logout()"><i data-lucide="log-out" class="text-red-400"></i></button>
    </nav>
</div>

<script type="module" src="script.js"></script>
</body>
</html>
